<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Tarefa4_2021li1g099</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>Rui Pedro Cerqueira &lt;a100537@alunos.uminho.pt&gt;;<br />: Diogo Matos &lt;a100741@alunos.uminho.pt&gt;;</td></tr><tr><th>Safe Haskell</th><td>Safe</td></tr></table><p class="caption">Tarefa4_2021li1g099</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>M&#243;dulo para a realiza&#231;&#227;o da Tarefa 4 do projeto de LI1 em 2021/22.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:moveJogador">moveJogador</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; <a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a> -&gt; <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a></li><li class="src short"><a href="#v:interageCaixa">interageCaixa</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; <a href="LI12122.html#t:Jogador" title="LI12122">Jogador</a> -&gt; <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a></li><li class="src short"><a href="#v:andarDireita">andarDireita</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; <a href="LI12122.html#t:Jogador" title="LI12122">Jogador</a> -&gt; <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a></li><li class="src short"><a href="#v:andarEsquerda">andarEsquerda</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; <a href="LI12122.html#t:Jogador" title="LI12122">Jogador</a> -&gt; <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a></li><li class="src short"><a href="#v:posicaoQueda">posicaoQueda</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; <a href="LI12122.html#t:Jogador" title="LI12122">Jogador</a> -&gt; <a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a> -&gt; <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a></li><li class="src short"><a href="#v:validaMovimento">validaMovimento</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; <a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a> -&gt; Bool</li><li class="src short"><a href="#v:validaTrepar">validaTrepar</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; <a href="LI12122.html#t:Jogador" title="LI12122">Jogador</a> -&gt; Bool</li><li class="src short"><a href="#v:validaInterageCaixa">validaInterageCaixa</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; <a href="LI12122.html#t:Jogador" title="LI12122">Jogador</a> -&gt; Bool</li><li class="src short"><a href="#v:validaAvancaDireita">validaAvancaDireita</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; <a href="LI12122.html#t:Jogador" title="LI12122">Jogador</a> -&gt; Bool</li><li class="src short"><a href="#v:validaAvancaEsquerda">validaAvancaEsquerda</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; <a href="LI12122.html#t:Jogador" title="LI12122">Jogador</a> -&gt; Bool</li><li class="src short"><a href="#v:correrMovimentos">correrMovimentos</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; [<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>] -&gt; <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:moveJogador" class="def">moveJogador</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; <a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a> -&gt; <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> <a href="#v:moveJogador" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o &#8217;moveJogador&#8217; aplica um dado movimento ao <code><a href="LI12122.html#t:Jogador" title="LI12122">Jogador</a></code>, alterando assim o estado atual do <code><a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a></code>.</p><p>Para isso, a fun&#231;&#227;o:</p><ol><li>Verifica qual &#233; o movimento a ser aplicado;</li><li>Verifica se o movimento &#233; v&#225;lido (exceto para AndarDireita ou AndarEsquerda, uma vez que tais movimentos s&#227;o sempre v&#225;lidos),
recorrendo &#224; fun&#231;&#227;o <code><a href="Tarefa4_2021li1g099.html#v:validaMovimento" title="Tarefa4_2021li1g099">validaMovimento</a></code>;</li><li>Se o movimento &#233; v&#225;lido, aplica-o ao <code><a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a></code> usando a fun&#231;&#227;o <code><a href="Tarefa4_2021li1g099.html#v:interageCaixa" title="Tarefa4_2021li1g099">interageCaixa</a></code>, <code><a href="Tarefa4_2021li1g099.html#v:andarDireita" title="Tarefa4_2021li1g099">andarDireita</a></code> ou <code><a href="Tarefa4_2021li1g099.html#v:andarEsquerda" title="Tarefa4_2021li1g099">andarEsquerda</a></code>. Exceto para o movimento <code><a href="LI12122.html#v:Trepar" title="LI12122">Trepar</a></code>,
que &#233; aplicado diretamente sem recorrer a uma fun&#231;&#227;o auxiliar, tendo em conta a sua simplicidade.</li></ol><ul><li><strong>Nota:</strong> As fun&#231;&#245;es auxiliares <code><a href="Tarefa4_2021li1g099.html#v:interageCaixa" title="Tarefa4_2021li1g099">interageCaixa</a></code>, <code><a href="Tarefa4_2021li1g099.html#v:andarDireita" title="Tarefa4_2021li1g099">andarDireita</a></code> e <code><a href="Tarefa4_2021li1g099.html#v:andarEsquerda" title="Tarefa4_2021li1g099">andarEsquerda</a></code> recebem o mapa n&#227;o no formato <code><a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a></code> mas no formato de uma lista
do tipo <strong>[(Peca,Coordeandas)]</strong>, de forma a facilitar o processo. Assim, &#233; usada a fun&#231;&#227;o <code><a href="Tarefa2_2021li1g099.html#v:desconstroiMapa" title="Tarefa2_2021li1g099">desconstroiMapa</a></code> (importada da Tarefa 2) para transformar <code><a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a></code>.</li></ul><h2>Exemplos de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>moveJogador (Jogo [[Vazio,Vazio,Vazio],[Bloco,Bloco,Bloco]] (Jogador (0,0) Este False)) AndarDireita
</code></strong> &gt; 
XXX
</pre></div></div><div class="top"><p class="src"><a id="v:interageCaixa" class="def">interageCaixa</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; <a href="LI12122.html#t:Jogador" title="LI12122">Jogador</a> -&gt; <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> <a href="#v:interageCaixa" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o &#8217;interageCaixa&#8217; aplica ao Jogo a a&#231;&#227;o de pegar ou largar uma Caixa por parte do Jogador.</p><p>Para isso, a fun&#231;&#227;o:</p><ol><li>Para os casos em que o Jogador n&#227;o se encontra a segurar uma caixa (<code>b == False</code>), a fun&#231;&#227;o filter vai &quot;apagar&quot; do Mapa a caixa com a qual o Jogador interagiu 
e alterar o valor <strong>b</strong> de <strong>False</strong> para <strong>True</strong> (ou seja, informa que no estado atual do Jogo o Jogador est&#225; a carregar uma caixa);</li><li>Para os casos em que o Jogador se encontra a segurar uma caixa (<code>b == True</code>), a fun&#231;&#227;o vai adicionar a mesma ao Mapa (de acordo com a Dire&#231;&#227;o do Jogador)
e alterar o valor <strong>b</strong> de <strong>True</strong> para <strong>False</strong> (ou seja, informa que no estado atual do Jogo, o Jogador n&#227;o est&#225; a carregar uma caixa);</li><li>Para os casos em que o Jogador carrega/segura uma caixa, existe tamb&#233;m a possibilidade de exisitir uma queda na dire&#231;&#227;o em que a caixa vai ser
largada. Nesse caso, usamos a fun&#231;&#227;o <code><a href="Tarefa4_2021li1g099.html#v:posicaoQueda" title="Tarefa4_2021li1g099">posicaoQueda</a></code>, de forma semelhante ao que acontece na fun&#231;&#227;o <code><a href="Tarefa4_2021li1g099.html#v:andarDireita" title="Tarefa4_2021li1g099">andarDireita</a></code> ou <code><a href="Tarefa4_2021li1g099.html#v:andarEsquerda" title="Tarefa4_2021li1g099">andarEsquerda</a></code>, para descobrir a posi&#231;&#227;o final,
 n&#227;o do Jogador, mas da caixa.</li></ol><ul><li><strong>Nota:</strong> Para todos os casos onde o jogador carrega uma caixa, &#233; tamb&#233;m verificado se existe um Bloco em frente ao Jogador. Se tal Bloco existir,
a Caixa ser&#225; posicionada nas coordenadas acima desse Bloco, e n&#227;o na mesma posi&#231;&#227;o do Bloco como acontece normalmente.</li></ul><h2>Exemplos de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>interageCaixa [(Bloco,(0,2)),(Bloco,(1,2)),(Bloco,(2,2)),(Caixa,(1,1))] (Jogador (0,1) Este False)
</code></strong>C  
&gt;  
XXX
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>interageCaixa [(Bloco,(0,2)),(Bloco,(1,2)),(Bloco,(2,2))] (Jogador (0,1) Este True)
</code></strong></pre><pre>C </pre><p>XXX</p></div></div><div class="top"><p class="src"><a id="v:andarDireita" class="def">andarDireita</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; <a href="LI12122.html#t:Jogador" title="LI12122">Jogador</a> -&gt; <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> <a href="#v:andarDireita" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o &#8217;andarDireita&#8217; aplica o movimento <strong>AndarDireita</strong> ao jogador.</p><p>Para isso, a fun&#231;&#227;o:</p><ol><li>Aplica a fun&#231;&#227;o auxiliar <code><a href="Tarefa4_2021li1g099.html#v:validaAvancaDireita" title="Tarefa4_2021li1g099">validaAvancaDireita</a></code> para verificar se &#233; poss&#237;vel fazer o Jogador avan&#231;ar para a direita (Este);</li><li>Se n&#227;o for possivel avan&#231;ar, as coordenadas do Jogador mant&#233;m-se e apenas a dire&#231;&#227;o &#233; alterada (para Este);</li><li>Se for possivel avan&#231;ar, verifica ainda se existe uma queda (<code>notElem</code>) e, caso exista, aplica a fun&#231;&#227;o <code><a href="Tarefa4_2021li1g099.html#v:posicaoQueda" title="Tarefa4_2021li1g099">posicaoQueda</a></code> para determinar as coordenadas da posi&#231;&#227;o do
Jogador ap&#243;s a queda. Caso n&#227;o exista queda, simplesmente move o Jogador uma coordenada para a Direita/Este.</li></ol><h2>Exemplos de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>andarDireita [(Bloco,(0,2)),(Bloco,(1,2)),(Bloco,(2,2)),(Caixa,(1,1))] (Jogador (0,1) Oeste False)
</code></strong>&gt;C 
XXX
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>andarDireita [(Bloco,(0,2)),(Bloco,(1,2)),(Bloco,(2,2))] (Jogador (0,1) Oeste False)
</code></strong> &gt; 
XXX
</pre></div></div><div class="top"><p class="src"><a id="v:andarEsquerda" class="def">andarEsquerda</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; <a href="LI12122.html#t:Jogador" title="LI12122">Jogador</a> -&gt; <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> <a href="#v:andarEsquerda" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o &#8217;andarEsquerda&#8217; aplica o movimento <strong>AndarEsquerda</strong> ao jogador, se o movimento n&#227;o for possivel o jogador fica na mesma posi&#231;&#227;o mas virado na posi&#231;&#227;o Oeste.</p><p>Para isso, a fun&#231;&#227;o:</p><ol><li>Aplica a fun&#231;&#227;o auxiliar <code><a href="Tarefa4_2021li1g099.html#v:validaAvancaEsquerda" title="Tarefa4_2021li1g099">validaAvancaEsquerda</a></code> para verificar se &#233; poss&#237;vel fazer o Jogador avan&#231;ar para a esquerda (Oeste);</li><li>Se n&#227;o for possivel avan&#231;ar, as coordenadas do Jogador mant&#233;m-se e apenas a dire&#231;&#227;o &#233; alterada (para Oeste);</li><li>Se for possivel avan&#231;ar, verifica ainda se existe uma queda (<code>notElem</code>) e, caso exista, aplica a fun&#231;&#227;o <code><a href="Tarefa4_2021li1g099.html#v:posicaoQueda" title="Tarefa4_2021li1g099">posicaoQueda</a></code> para determinar as coordenadas da posi&#231;&#227;o do
Jogador ap&#243;s a queda. Caso n&#227;o exista queda, simplesmente move o Jogador uma coordenada para a Esquerda/Oeste.</li></ol><h2>Exemplos de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>andarEsquerda [(Bloco,(0,2)),(Bloco,(1,2)),(Bloco,(2,2)),(Caixa,(1,1))] (Jogador (2,1) Este False)
</code></strong> C&lt; 
XXX
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>andarEsquerda [(Bloco,(0,2)),(Bloco,(1,2)),(Bloco,(2,2))] (Jogador (1,1) Este False)
</code></strong>&lt;  
XXX
</pre></div></div><div class="top"><p class="src"><a id="v:posicaoQueda" class="def">posicaoQueda</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; <a href="LI12122.html#t:Jogador" title="LI12122">Jogador</a> -&gt; <a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a> -&gt; <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a> <a href="#v:posicaoQueda" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o &#8217;posicaoQueda&#8217; determina as coordenadas exatas da posi&#231;&#227;o final de um Jogador ap&#243;s uma queda. No entanto, &#233; ainda utilizada em <code><a href="Tarefa4_2021li1g099.html#v:interageCaixa" title="Tarefa4_2021li1g099">interageCaixa</a></code>
para determinar as coordenadas de uma Caixa ap&#243;s uma queda (a posi&#231;&#227;o de queda do jogador e da caixa s&#227;o equivalentes).</p><p>Para isso, a fun&#231;&#227;o:</p><ol><li>Verifica se a queda &#233; &#224; direita ou &#224; esquerda do jogador, ou seja, se o jogador executa o movimento <strong>AndarDireita</strong> ou <strong>AndarEsquerda</strong>;</li><li>De acordo com o movimento, filtra a coluna do Mapa onde a queda se encontra em <strong>x</strong> e <strong>y</strong>, de forma a ficar apenas com uma lista com os elementos
que v&#227;o desde o in&#237;cio da queda at&#233; ao fim da coluna;</li><li>Retira as coordenadas da primeira pe&#231;a dessa lista, que ir&#225; corresponder &#224; pe&#231;a que assinala o fim da queda (uma vez que as pe&#231;as <code><a href="LI12122.html#v:Vazio" title="LI12122">Vazio</a></code> n&#227;o s&#227;o declaradas);</li><li>Devolve as coordenadas da posi&#231;&#227;o final do jogador, que ser&#227;o equivalentes &#225;s coordenadas da pe&#231;a que assinala o fim da queda, exceto em <strong>y</strong>, que ser&#225; mais
pequeno por 1 valor ( <code>(xD,yD-1)</code> e <code>(xE,yE-1)</code> ).</li></ol><h2>Exemplos de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>posicaoQueda [(Bloco,(0,3)),(Bloco,(1,3)),(Bloco,(2,3)),(Bloco,(2,2))] (Jogador (2,1) Este False) AndarEsquerda
</code></strong>(1,2)
</pre></div></div><div class="top"><p class="src"><a id="v:validaMovimento" class="def">validaMovimento</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; <a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a> -&gt; Bool <a href="#v:validaMovimento" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o &#8217;validaMovimento&#8217; ir&#225; validar os movimentos <strong>Trepar</strong> ou <strong>InterageCaixa</strong> recorrendo &#225;s fun&#231;&#245;es <code><a href="Tarefa4_2021li1g099.html#v:validaTrepar" title="Tarefa4_2021li1g099">validaTrepar</a></code> e <code><a href="Tarefa4_2021li1g099.html#v:validaInterageCaixa" title="Tarefa4_2021li1g099">validaInterageCaixa</a></code>,
respetivamente.</p><ul><li><strong>Nota:</strong> As fun&#231;&#245;es auxiliares <code><a href="Tarefa4_2021li1g099.html#v:validaTrepar" title="Tarefa4_2021li1g099">validaTrepar</a></code> e <code><a href="Tarefa4_2021li1g099.html#v:validaInterageCaixa" title="Tarefa4_2021li1g099">validaInterageCaixa</a></code> recebem o mapa n&#227;o no formato <code><a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a></code> mas no formato de uma lista
do tipo <strong>[(Peca,Coordeandas)]</strong>, de forma a facilitar o processo. Assim, &#233; usada a fun&#231;&#227;o <code><a href="Tarefa2_2021li1g099.html#v:desconstroiMapa" title="Tarefa2_2021li1g099">desconstroiMapa</a></code> (importada da Tarefa 2) para transformar <code><a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a></code>.</li></ul></div></div><div class="top"><p class="src"><a id="v:validaTrepar" class="def">validaTrepar</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; <a href="LI12122.html#t:Jogador" title="LI12122">Jogador</a> -&gt; Bool <a href="#v:validaTrepar" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o &#8217;validaTrepar&#8217; verifica se &#233; possivel executar o movimento <strong>Trepar</strong>. </p><p>Para isso, a fun&#231;&#227;o verifica se todas as condi&#231;&#245;es necess&#225;rias para o jogador poder efetuar o movimento <strong>Trepar</strong> s&#227;o cumpridas, condi&#231;&#245;es
essas que est&#227;o descritas no enunciado do projeto.</p><p>Para al&#233;m disso, verifica que o estado do Jogo n&#227;o se encontra numa poss&#237;vel exce&#231;&#227;o &#225;s regras
normais que t&#234;m de ser cumpridas para trepar. Por exemplo, quando o jogador se encontra em <strong>y = 0</strong> ou quando trepar obriga a que a caixa que o mesmo
carrega fique &quot;fora&quot; do Mapa.</p><h2>Exemplos de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>validaTrepar [(Bloco,(0,3)),(Bloco,(1,3)),(Bloco,(2,3)),(Bloco,(0,1)),(Bloco,(0,2))] (Jogador (1,2) Oeste False)
</code></strong>False
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>validaTrepar [(Bloco,(0,3)),(Bloco,(1,3)),(Bloco,(2,3)),(Bloco,(0,2))] (Jogador (1,2) Oeste False)
</code></strong>True
</pre></div></div><div class="top"><p class="src"><a id="v:validaInterageCaixa" class="def">validaInterageCaixa</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; <a href="LI12122.html#t:Jogador" title="LI12122">Jogador</a> -&gt; Bool <a href="#v:validaInterageCaixa" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o &#8217;validaInterageCaixa&#8217; verifica se &#233; possivel executar o movimento <strong>InterageCaixa</strong>. </p><p>Para isso, a fun&#231;&#227;o verifica se todas as condi&#231;&#245;es necess&#225;rias para o jogador poder efetuar o movimento <strong>InterageCaixa</strong> s&#227;o cumpridas, condi&#231;&#245;es
essas que est&#227;o descritas no enunciado do projeto.</p><p>Para al&#233;m disso, verifica que o estado do Jogo n&#227;o se encontra numa poss&#237;vel exce&#231;&#227;o &#225;s regras
normais que t&#234;m de ser cumpridas para interagir com uma caixa. Por exemplo, quando o jogador se encontra em <strong>y = 0</strong>.</p><h2>Exemplos de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>validaInterageCaixa [(Bloco,(0,3)),(Bloco,(1,3)),(Bloco,(2,3)),(Bloco,(0,0)),(Caixa,(0,1))] (Jogador (1,1) Oeste False)
</code></strong>False
</pre></div></div><div class="top"><p class="src"><a id="v:validaAvancaDireita" class="def">validaAvancaDireita</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; <a href="LI12122.html#t:Jogador" title="LI12122">Jogador</a> -&gt; Bool <a href="#v:validaAvancaDireita" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o &#8217;validaAvancaDireita&#8217; verifica se o jogador consegue, de facto, avan&#231;ar um bloco para a direita quando &#233; executado o movimento <strong>AndarDireita</strong>.</p><p>Para isso, a fun&#231;&#227;o verifica um conjunto de condi&#231;&#245;es que t&#234;m de ser cumpridas e que est&#227;o descritas no enunciado do projeto.</p><p>Para al&#233;m disso, verifica que o estado do Jogo n&#227;o se encontra numa poss&#237;vel exce&#231;&#227;o &#225;s regras normais que t&#234;m de ser cumpridas para o jogador poder avan&#231;ar para a direita.
Por exemplo, quando o jogador se encontra na &#250;ltima coluna do mapa (<strong><code>x == xMax m</code></strong>).</p><h2>Exemplos de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>validaAvancaDireita [(Bloco,(0,3)),(Bloco,(1,3)),(Bloco,(2,3)),(Bloco,(0,1)),(Bloco,(0,2)),(Bloco,(2,2))] (Jogador (1,2) Oeste False)
</code></strong>False
</pre></div></div><div class="top"><p class="src"><a id="v:validaAvancaEsquerda" class="def">validaAvancaEsquerda</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; <a href="LI12122.html#t:Jogador" title="LI12122">Jogador</a> -&gt; Bool <a href="#v:validaAvancaEsquerda" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o &#8217;validaAvancaEsquerda&#8217; verifica se o jogador consegue, de facto, avan&#231;ar um bloco para a esquerda quando &#233; executado o movimento <strong>AndarEsquerda</strong>.</p><p>Para isso, a fun&#231;&#227;o verifica um conjunto de condi&#231;&#245;es que t&#234;m de ser cumpridas e que est&#227;o descritas no enunciado do projeto.</p><p>Para al&#233;m disso, verifica que o estado do Jogo n&#227;o se encontra numa poss&#237;vel exce&#231;&#227;o &#225;s regras normais que t&#234;m de ser cumpridas para o jogador poder avan&#231;ar para a esquerda.
Por exemplo, quando o jogador se encontra na primeira coluna do mapa (<strong><code>x == 0</code></strong>).</p><h2>Exemplos de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>validaAvancaEsquerda [(Bloco,(0,3)),(Bloco,(1,3)),(Bloco,(2,3)),(Bloco,(0,1)),(Bloco,(0,2)),(Bloco,(2,2))] (Jogador (1,2) Oeste False)
</code></strong>False
</pre></div></div><div class="top"><p class="src"><a id="v:correrMovimentos" class="def">correrMovimentos</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; [<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>] -&gt; <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> <a href="#v:correrMovimentos" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o &#8217;correrMovimentos&#8217; aplica uma sequ&#234;ncia de movimentos chamando a fun&#231;&#227;o <code><a href="Tarefa4_2021li1g099.html#v:moveJogador" title="Tarefa4_2021li1g099">moveJogador</a></code> para cada movimento.</p><h2>Exemplos de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>correrMovimentos (Jogo [[Vazio,Vazio,Vazio],[Bloco,Bloco,Bloco]] (Jogador (0,0) Este False)) [AndarDireita,AndarDireita]
</code></strong>  &gt;
XXX
</pre></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>