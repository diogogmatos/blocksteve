<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Tarefa3_2021li1g099</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>Rui Pedro Cerqueira &lt;a100537@alunos.uminho.pt&gt;;<br />: Diogo Matos &lt;a100741@alunos.uminho.pt&gt;;</td></tr><tr><th>Safe Haskell</th><td>Safe</td></tr></table><p class="caption">Tarefa3_2021li1g099</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#section.orphans">Orphan instances</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>M&#243;dulo para a realiza&#231;&#227;o da Tarefa 3 do projeto de LI1 em 2021/22.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:representaJogo">representaJogo</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; Int -&gt; String</li><li class="src short"><a href="#v:escreveLinha">escreveLinha</a> :: [<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>] -&gt; String</li><li class="src short"><a href="#v:escreveLinhaJ">escreveLinhaJ</a> :: [<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>] -&gt; Int -&gt; <a href="LI12122.html#t:Direcao" title="LI12122">Direcao</a> -&gt; Int -&gt; String</li><li class="src short"><a href="#v:escreveLinhaC">escreveLinhaC</a> :: [<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>] -&gt; Int -&gt; Int -&gt; String</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:representaJogo" class="def">representaJogo</a> <a href="#v:representaJogo" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Input de um acumulador, de valor inicial 0, que tem como objetivo assumir um valor crescente de <strong>y</strong></p></td></tr><tr><td class="src">-&gt; String</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o &#8217;representaJogo&#8217; converte um <code><a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a></code> numa <code>String</code>, de forma a representar o seu estado atual graficamente.</p><p>Para isso, a fun&#231;&#227;o:</p><ol><li>Para cada linha do <code><a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a></code>, isto &#233;, para cada sub-lista da lista do tipo '[[Peca]]', transforma as suas pe&#231;as em determinados caracteres,
com a ajuda da fun&#231;&#227;o <code><a href="Tarefa3_2021li1g099.html#v:escreveLinha" title="Tarefa3_2021li1g099">escreveLinha</a></code>;</li><li>Caso estejamos na linha onde o <code><a href="LI12122.html#t:Jogador" title="LI12122">Jogador</a></code> se encontra (<code>acc == y</code>), aplica (de forma an&#225;loga a <code><a href="Tarefa3_2021li1g099.html#v:escreveLinha" title="Tarefa3_2021li1g099">escreveLinha</a></code>) a fun&#231;&#227;o <code><a href="Tarefa3_2021li1g099.html#v:escreveLinhaJ" title="Tarefa3_2021li1g099">escreveLinhaJ</a></code> - que ir&#225;, para al&#233;m
das pe&#231;as, representar tamb&#233;m o jogador na <code>String</code>;</li><li>Caso o jogador esteja a carregar uma caixa e estejamos a analisar a linha onde a caixa estar&#225; situada (<code>acc == (y-1) &amp;&amp; b == True</code>), aplica
(de forma an&#225;loga a <code><a href="Tarefa3_2021li1g099.html#v:escreveLinha" title="Tarefa3_2021li1g099">escreveLinha</a></code>) a fun&#231;&#227;o <code><a href="Tarefa3_2021li1g099.html#v:escreveLinhaC" title="Tarefa3_2021li1g099">escreveLinhaC</a></code> - que ir&#225;, para al&#233;m das pe&#231;as, representar tamb&#233;m a caixa que o jogador carrega na <code>String</code>;</li><li>Concatena as listas resultantes, adicionando o caracter &quot;\n&quot; (par&#225;grafo) entre elas, de forma a obter uma <code>String</code> com todas as linhas do mapa
representadas.</li></ol></div></div><div class="top"><p class="src"><a id="v:escreveLinha" class="def">escreveLinha</a> :: [<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>] -&gt; String <a href="#v:escreveLinha" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o &#8217;escreveLinha&#8217; converte uma lista de pe&#231;as ([Peca]) numa String, onde cada pe&#231;a &#233; representada por um caracter diferente.</p><ul><li><code><a href="LI12122.html#v:Bloco" title="LI12122">Bloco</a></code> &#233; representado por: <code>X</code></li><li><code><a href="LI12122.html#v:Caixa" title="LI12122">Caixa</a></code> &#233; representado por: <code>C</code></li><li><code><a href="LI12122.html#v:Porta" title="LI12122">Porta</a></code> &#233; representado por: <code>P</code></li><li><code><a href="LI12122.html#v:Vazio" title="LI12122">Vazio</a></code> &#233; representado por um espa&#231;o vazio: <code>&quot; &quot;</code></li></ul><p>Para isso, a fun&#231;&#227;o verifica para cada elemento da lista se &#233; Bloco, Caixa, Porta ou Vazio e adiciona &#224; String o caracter correspondente.</p></div></div><div class="top"><p class="src"><a id="v:escreveLinhaJ" class="def">escreveLinhaJ</a> <a href="#v:escreveLinhaJ" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>]</td><td class="doc"><p>Lista de pe&#231;as correspondente &#224; linha do Mapa que cont&#233;m o Jogador</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Valor inteiro correspondente ao valor da coordenada <strong>x</strong> do Jogador</p></td></tr><tr><td class="src">-&gt; <a href="LI12122.html#t:Direcao" title="LI12122">Direcao</a></td><td class="doc"><p>Dire&#231;&#227;o do Jogador (Este ou Oeste)</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Acumulador, de valor inicial 0, que tem como objetivo assumir um valor crescente de <strong>x</strong></p></td></tr><tr><td class="src">-&gt; String</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o &#8217;escreveLinhaJ&#8217; converte, de forma an&#225;loga a <code><a href="Tarefa3_2021li1g099.html#v:escreveLinha" title="Tarefa3_2021li1g099">escreveLinha</a></code>, as pe&#231;as em caracteres. No entanto, representa tamb&#233;m o jogador que se
encontra nessa linha.</p><p>Para isso, a fun&#231;&#227;o:</p><ol><li>Recebe de <code><a href="Tarefa3_2021li1g099.html#v:representaJogo" title="Tarefa3_2021li1g099">representaJogo</a></code> a linha do Mapa &#224; qual o jogador pertence;</li><li>Quando o valor do acumulador corresponde ao valor da coordenada <strong>x</strong> do Jogador, dependendo da sua dire&#231;&#227;o (Este ou Oeste), o mesmo &#233; representado
na String por &quot;&gt;&quot; para Este e &quot;&lt;&quot; para Oeste;</li><li>Para os outros casos, as pe&#231;as s&#227;o convertidas em caracteres normalmente, como acontece em <code><a href="Tarefa3_2021li1g099.html#v:escreveLinha" title="Tarefa3_2021li1g099">escreveLinha</a></code>.</li></ol></div></div><div class="top"><p class="src"><a id="v:escreveLinhaC" class="def">escreveLinhaC</a> <a href="#v:escreveLinhaC" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>]</td><td class="doc"><p>Lista de pe&#231;as correspondente &#224; linha do Mapa que cont&#233;m a Caixa que o jogador segura</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Valor inteiro correspondente ao valor da coordenada <strong>x</strong> da Caixa</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Acumulador, de valor inicial 0, que tem como objetivo assumir um valor crescente de <strong>x</strong></p></td></tr><tr><td class="src">-&gt; String</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o &#8217;escreveLinhaC&#8217; funciona de forma an&#225;loga a <code><a href="Tarefa3_2021li1g099.html#v:escreveLinhaJ" title="Tarefa3_2021li1g099">escreveLinhaJ</a></code> e tem como objetivo representar a Caixa que o jogador segura, no mapa.</p><p>Para isso, a fun&#231;&#227;o:</p><ol><li>Recebe de <code><a href="Tarefa3_2021li1g099.html#v:representaJogo" title="Tarefa3_2021li1g099">representaJogo</a></code> a linha do Mapa &#224; qual a Caixa que o jogador segura pertence;</li><li>Quando o valor do acumulador corresponde ao valor da coordenada <strong>x</strong> da Caixa, a mesma &#233; representada na String;</li><li>Para os outros casos, as pe&#231;as s&#227;o convertidas em caracteres normalmente, como acontece em <code><a href="Tarefa3_2021li1g099.html#v:escreveLinha" title="Tarefa3_2021li1g099">escreveLinha</a></code>.</li></ol></div></div><h1>Orphan instances</h1><div id="section.orphans"><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:o:ic:Show:Show:1"></span> Show <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a></span> <a href="#v:-36-fShowJogo" class="selflink">#</a></td><td class="doc"><p>&#8217;show&#8217; permite representar no terminal o output da fun&#231;&#227;o <code><a href="Tarefa3_2021li1g099.html#v:representaJogo" title="Tarefa3_2021li1g099">representaJogo</a></code>, formatando as linhas pelos par&#225;grafos indicados por
&quot;\n&quot;.</p><p>Assim, sempre que uma fun&#231;&#227;o do projeto retornar um valor do tipo <code><a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a></code>, o output ser&#225; representado no ghci n&#227;o no tipo <code><a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a></code>,
mas como o output de <code><a href="Tarefa3_2021li1g099.html#v:representaJogo" title="Tarefa3_2021li1g099">representaJogo</a></code> para esse <code><a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a></code>.</p></td></tr><tr><td colspan="2"><details id="i:o:ic:Show:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>] -&gt; ShowS</p></div></details></td></tr></table></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>