<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Main</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Main</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>M&#243;dulo para a realiza&#231;&#227;o da Tarefa 5 do projeto de LI1 em 2021/22.</p><h2>Bibliografia:</h2><ul><li>&quot;Gloss Library&quot; Hackage, 2020 &quot;<a href="https://hackage.haskell.org/package/gloss&quot;">https://hackage.haskell.org/package/gloss&quot;</a></li></ul></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:main">main</a> :: IO ()</li><li class="src short"><a href="#v:fr">fr</a> :: Int</li><li class="src short"><a href="#v:janela">janela</a> :: Display</li><li class="src short"><span class="keyword">data</span> <a href="#t:Estado">Estado</a> = <a href="#v:E">E</a> <a href="Main.html#t:EstadoMenu" title="Main">EstadoMenu</a> <a href="Main.html#t:EstadoJogo" title="Main">EstadoJogo</a> <a href="Main.html#t:EstadoPausa" title="Main">EstadoPausa</a> <a href="Main.html#t:EstadoNiveis" title="Main">EstadoNiveis</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:Texturas">Texturas</a> = (Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture)</li><li class="src short"><a href="#v:estadoInicial">estadoInicial</a> :: <a href="Main.html#t:Texturas" title="Main">Texturas</a> -&gt; <a href="Main.html#t:Estado" title="Main">Estado</a></li><li class="src short"><a href="#v:reage">reage</a> :: Event -&gt; <a href="Main.html#t:Estado" title="Main">Estado</a> -&gt; <a href="Main.html#t:Estado" title="Main">Estado</a></li><li class="src short"><a href="#v:draw">draw</a> :: <a href="Main.html#t:Estado" title="Main">Estado</a> -&gt; Picture</li><li class="src short"><span class="keyword">data</span> <a href="#t:EstadoMenu">EstadoMenu</a> = <a href="#v:Menu">Menu</a> <a href="Main.html#t:Opcao" title="Main">Opcao</a> <a href="Main.html#t:Elementos" title="Main">Elementos</a> Bool</li><li class="src short"><span class="keyword">data</span> <a href="#t:Opcao">Opcao</a><ul class="subs"><li>= <a href="#v:Jogar">Jogar</a></li><li>| <a href="#v:Niveis">Niveis</a></li><li>| <a href="#v:Sair">Sair</a></li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:Elementos">Elementos</a> = (Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture)</li><li class="src short"><a href="#v:reageMenu">reageMenu</a> :: Event -&gt; <a href="Main.html#t:EstadoMenu" title="Main">EstadoMenu</a> -&gt; <a href="Main.html#t:EstadoMenu" title="Main">EstadoMenu</a></li><li class="src short"><a href="#v:drawMenu">drawMenu</a> :: <a href="Main.html#t:EstadoMenu" title="Main">EstadoMenu</a> -&gt; Picture</li><li class="src short"><span class="keyword">data</span> <a href="#t:EstadoNiveis">EstadoNiveis</a> = <a href="#v:Nivel">Nivel</a> Int Bool <a href="Main.html#t:TexturasN" title="Main">TexturasN</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:TexturasN">TexturasN</a> = (Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture)</li><li class="src short"><a href="#v:reageNiveis">reageNiveis</a> :: Event -&gt; <a href="Main.html#t:EstadoNiveis" title="Main">EstadoNiveis</a> -&gt; <a href="Main.html#t:EstadoNiveis" title="Main">EstadoNiveis</a></li><li class="src short"><a href="#v:drawNiveis">drawNiveis</a> :: <a href="Main.html#t:EstadoNiveis" title="Main">EstadoNiveis</a> -&gt; Picture</li><li class="src short"><span class="keyword">data</span> <a href="#t:EstadoPausa">EstadoPausa</a> = <a href="#v:Pausa">Pausa</a> <a href="Main.html#t:OpcaoP" title="Main">OpcaoP</a> <a href="Main.html#t:ElementosP" title="Main">ElementosP</a> Bool</li><li class="src short"><span class="keyword">type</span> <a href="#t:ElementosP">ElementosP</a> = (Picture, Picture, Picture, Picture, Picture, Picture)</li><li class="src short"><span class="keyword">data</span> <a href="#t:OpcaoP">OpcaoP</a><ul class="subs"><li>= <a href="#v:Continuar">Continuar</a></li><li>| <a href="#v:VoltarAoMenu">VoltarAoMenu</a></li></ul></li><li class="src short"><a href="#v:reagePausa">reagePausa</a> :: Event -&gt; <a href="Main.html#t:EstadoPausa" title="Main">EstadoPausa</a> -&gt; <a href="Main.html#t:EstadoPausa" title="Main">EstadoPausa</a></li><li class="src short"><a href="#v:drawPausa">drawPausa</a> :: <a href="Main.html#t:EstadoPausa" title="Main">EstadoPausa</a> -&gt; Picture</li><li class="src short"><span class="keyword">type</span> <a href="#t:EstadoJogo">EstadoJogo</a> = (Int, Int, Bool, [<a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>], <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>, <a href="Main.html#t:ElementosJogo" title="Main">ElementosJogo</a>, Bool, (Float, Float), <a href="Main.html#t:Bot" title="Main">Bot</a>)</li><li class="src short"><span class="keyword">type</span> <a href="#t:ElementosJogo">ElementosJogo</a> = (Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture)</li><li class="src short"><span class="keyword">type</span> <a href="#t:TexturasJogo">TexturasJogo</a> = (Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture)</li><li class="src short"><a href="#v:world">world</a> :: [<a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>]</li><li class="src short"><a href="#v:reageJogo">reageJogo</a> :: Event -&gt; <a href="Main.html#t:EstadoJogo" title="Main">EstadoJogo</a> -&gt; <a href="Main.html#t:EstadoJogo" title="Main">EstadoJogo</a></li><li class="src short"><a href="#v:nextLevel">nextLevel</a> :: Int -&gt; <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; Int</li><li class="src short"><a href="#v:drawJogo">drawJogo</a> :: <a href="Main.html#t:EstadoJogo" title="Main">EstadoJogo</a> -&gt; Picture</li><li class="src short"><a href="#v:drawMapa">drawMapa</a> :: (<a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>, <a href="Main.html#t:TexturasJogo" title="Main">TexturasJogo</a>) -&gt; Picture</li><li class="src short"><a href="#v:jogadorCaixa">jogadorCaixa</a> :: <a href="LI12122.html#t:Jogador" title="LI12122">Jogador</a> -&gt; <a href="Main.html#t:TexturasJogo" title="Main">TexturasJogo</a> -&gt; [Picture]</li><li class="src short"><a href="#v:mapToPicture">mapToPicture</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; <a href="Main.html#t:TexturasJogo" title="Main">TexturasJogo</a> -&gt; [Picture]</li><li class="src short"><a href="#v:pecaToPicture">pecaToPicture</a> :: (<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>) -&gt; <a href="Main.html#t:TexturasJogo" title="Main">TexturasJogo</a> -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Picture</li><li class="src short"><a href="#v:converteCoordenada">converteCoordenada</a> :: (Int, Int) -&gt; (Int, Int)</li><li class="src short"><span class="keyword">data</span> <a href="#t:Bot">Bot</a> = <a href="#v:Bot">Bot</a> Bool (Maybe [<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>])</li><li class="src short"><a href="#v:reageTempo">reageTempo</a> :: Float -&gt; <a href="Main.html#t:Estado" title="Main">Estado</a> -&gt; <a href="Main.html#t:Estado" title="Main">Estado</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:main" class="def">main</a> :: IO () <a href="#v:main" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o &#8217;main&#8217; constitui a base da Tarefa 5. &#201; uma fun&#231;&#227;o do tipo <code>IO ()</code> respons&#225;vel por carregar todas as diversas texturas/imagens
utilizadas no desenvolvimento do ambiente gr&#225;fico do jogo, utilizando para isso a fun&#231;&#227;o <code>loadJuicy</code> da livraria <strong><code>Graphics.Gloss.Juicy</code></strong>.
Para al&#233;m disso, invoca a fun&#231;&#227;o <code>play</code> (inclu&#237;da na livraria <strong><code>Graphics.Gloss</code></strong>), fun&#231;&#227;o essa que constitui o corpo de todo o funcionamento do ambiente
gr&#225;fico do jogo.</p></div></div><div class="top"><p class="src"><a id="v:fr" class="def">fr</a> :: Int <a href="#v:fr" class="selflink">#</a></p><div class="doc"><p><strong>&#8217;fr&#8217; representa a &quot;frame rate&quot; do jogo, isto &#233;, o n&#250;mero de vezes por segundo que &#233; atualizada a fun&#231;&#227;o <code>play</code>.</strong></p><p>Este valor &#233; particularmente &#250;til na funcionalidade <a href="Bot.html">Bot</a> do jogo, onde, recorrendo &#224; Tarefa 6, &#233; poss&#237;vel visualizar o bot a resolver
o n&#237;vel atual. Como os movimentos do bot s&#227;o calculados previamente &#224; sua anima&#231;&#227;o, a velocidade a que cada movimento &#233; desenhado no ecr&#227;
est&#225; dependendete da taxa de atualiza&#231;&#227;o do jogo. Isto &#233; alca&#231;ado com o uso da fun&#231;&#227;o <code><a href="Main.html#v:reageTempo" title="Main">reageTempo</a></code>.</p><p>A depend&#234;ncia na taxa de atualiza&#231;&#227;o (frame rate) para a anima&#231;&#227;o do bot permite uma implementa&#231;&#227;o mais simples da funcionalidade,
no entanto, prejudica a velocidade a que o jogo consegue reagir aos inputs que o utilizador faz pelo teclado, ou seja, consegue apresentar
no m&#225;ximo apenas 2 movimentos por segundo no ecr&#227;. Sendo este tipo de jogo um jogo de racioc&#237;nio e que n&#227;o requer uma grande velocidade de
resposta, optei por manter esta forma de implementa&#231;&#227;o apesar de tudo.</p></div></div><div class="top"><p class="src"><a id="v:janela" class="def">janela</a> :: Display <a href="#v:janela" class="selflink">#</a></p><div class="doc"><p><strong>&#8217;janela&#8217; representa o modo de exibi&#231;&#227;o da &quot;janela&quot; onde o jogo &#233; apresentado.</strong></p><p>Neste caso, o jogo &#233; apresentado em modo <code>FullScreen</code>, isto &#233;, em ecr&#227; cheio.
Optei por este modo de exibi&#231;&#227;o por considerar ser o mais flex&#237;vel e imersivo.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Estado" class="def">Estado</a> <a href="#t:Estado" class="selflink">#</a></p><div class="doc"><p>O estado geral do jogo.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:E" class="def">E</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a href="Main.html#t:EstadoMenu" title="Main">EstadoMenu</a></dfn><div class="doc"><p>Estado atual do Menu</p></div></li><li><dfn class="src"><a href="Main.html#t:EstadoJogo" title="Main">EstadoJogo</a></dfn><div class="doc"><p>Estado atual do Jogo</p></div></li><li><dfn class="src"><a href="Main.html#t:EstadoPausa" title="Main">EstadoPausa</a></dfn><div class="doc"><p>Estado atual do Menu Pausa</p></div></li><li><dfn class="src"><a href="Main.html#t:EstadoNiveis" title="Main">EstadoNiveis</a></dfn><div class="doc"><p>Estado atual da Sele&#231;&#227;o de N&#237;veis</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Texturas" class="def">Texturas</a> = (Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture) <a href="#t:Texturas" class="selflink">#</a></p><div class="doc"><p>Tuplo contendo a totalidade das texturas/imagens utilizadas em todo o ambiente gr&#225;fico do jogo.</p></div></div><div class="top"><p class="src"><a id="v:estadoInicial" class="def">estadoInicial</a> :: <a href="Main.html#t:Texturas" title="Main">Texturas</a> -&gt; <a href="Main.html#t:Estado" title="Main">Estado</a> <a href="#v:estadoInicial" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o &#8217;estadoInicial&#8217; recebe a totalidade das imagens utilizadas no jogo (carregadas em <code><a href="Main.html#v:main" title="Main">main</a></code> com a fun&#231;&#227;o <code>loadJuicy</code>) e retorna o estado
inicial do jogo, inlcuindo no mesmo todas as texturas que recebe. Isto permite que estas sejam utilizadas nas fun&#231;&#245;es que &quot;desenham&quot; os elementos
no ecr&#227; (<code><a href="Main.html#v:draw" title="Main">draw</a></code>, <code><a href="Main.html#v:drawMenu" title="Main">drawMenu</a></code>, <code><a href="Main.html#v:drawNiveis" title="Main">drawNiveis</a></code>, <code><a href="Main.html#v:drawPausa" title="Main">drawPausa</a></code> e <code><a href="Main.html#v:drawJogo" title="Main">drawJogo</a></code>).</p><p>Para al&#233;m disso, calcula o n&#250;mero de n&#237;veis carregados (<code>length world</code>) e estabelece o n&#237;vel 1 como o n&#237;vel atual. Estes n&#237;veis s&#227;o importados do ficheiro
<strong>ListaJogos.hs</strong>.</p></div></div><div class="top"><p class="src"><a id="v:reage" class="def">reage</a> <a href="#v:reage" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Event</td><td class="doc"><p>Input do utilizador pelo teclado</p></td></tr><tr><td class="src">-&gt; <a href="Main.html#t:Estado" title="Main">Estado</a></td><td class="doc"><p>Estado atual</p></td></tr><tr><td class="src">-&gt; <a href="Main.html#t:Estado" title="Main">Estado</a></td><td class="doc"><p>Estado atualizado</p></td></tr></table></div><div class="doc"><p><strong>A fun&#231;&#227;o &#8217;reage&#8217; atualiza o estado do jogo de acordo com os inputs que o utilizador realiza pelo teclado.</strong></p><p>Esta fun&#231;&#227;o funciona como uma esp&#233;cie de
filtro, uma vez que, a partir de uma avalia&#231;&#227;o do estado atual do jogo, direciona o input do utilizador para a fun&#231;&#227;o &quot;reage&quot; correspondente, isto &#233;,
para <code><a href="Main.html#v:reageMenu" title="Main">reageMenu</a></code>, <code><a href="Main.html#v:reageNiveis" title="Main">reageNiveis</a></code>, <code><a href="Main.html#v:reagePausa" title="Main">reagePausa</a></code>, <code><a href="Main.html#v:reageJogo" title="Main">reageJogo</a></code> ou <code><a href="Main.html#v:reageTempo" title="Main">reageTempo</a></code>. No entanto, reponde tamb&#233;m a certos inputs localmente, como &#233; o caso da
ativa&#231;&#227;o ou desativa&#231;&#227;o do <a href="Bot.html">Bot</a>, isto acontece porque esta funcionalidade utiliza a fun&#231;&#227;o <code><a href="Main.html#v:reageTempo" title="Main">reageTempo</a></code> que tem obrigatoriamente de receber o estado geral
do jogo (<code><a href="Main.html#t:Estado" title="Main">Estado</a></code>) e a fun&#231;&#227;o <code><a href="Main.html#v:reageTempo" title="Main">reageTempo</a></code> tem apenas acesso a <code><a href="Main.html#t:EstadoJogo" title="Main">EstadoJogo</a></code>. A ativa&#231;&#227;o do menu pausa &#233; tamb&#233;m realizada localmente nesta fun&#231;&#227;o por ser
mais flex&#237;vel faz&#234;-lo dessa forma, assim, apenas a navega&#231;&#227;o no menu pausa &#233; controlada por <code><a href="Main.html#v:reagePausa" title="Main">reagePausa</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:draw" class="def">draw</a> :: <a href="Main.html#t:Estado" title="Main">Estado</a> -&gt; Picture <a href="#v:draw" class="selflink">#</a></p><div class="doc"><p><strong>A fun&#231;&#227;o &#8217;draw&#8217; &quot;desenha&quot; o que &#233; suposto ser representado no ecr&#227; ao utilizador.</strong></p><p>&#192; semelhan&#231;a do que acontece em <code><a href="Main.html#v:reage" title="Main">reage</a></code>, esta fun&#231;&#227;o
funciona como um &quot;filtro&quot; que a partir de uma avalia&#231;&#227;o do <code><a href="Main.html#t:Estado" title="Main">Estado</a></code> do jogo invoca a fun&#231;&#227;o &quot;draw&quot; correspondente, ou seja, invoca <code><a href="Main.html#v:drawMenu" title="Main">drawMenu</a></code>,
<code><a href="Main.html#v:drawJogo" title="Main">drawJogo</a></code>, <code><a href="Main.html#v:drawPausa" title="Main">drawPausa</a></code> ou <code><a href="Main.html#v:drawNiveis" title="Main">drawNiveis</a></code>.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:EstadoMenu" class="def">EstadoMenu</a> <a href="#t:EstadoMenu" class="selflink">#</a></p><div class="doc"><p>O estado atual do menu do jogo.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Menu" class="def">Menu</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a href="Main.html#t:Opcao" title="Main">Opcao</a></dfn><div class="doc"><p>Op&#231;&#227;o que se encontra escolhida no menu</p></div></li><li><dfn class="src"><a href="Main.html#t:Elementos" title="Main">Elementos</a></dfn><div class="doc"><p>Imagens que comp&#245;e o menu</p></div></li><li><dfn class="src">Bool</dfn><div class="doc"><p>Indica se a <code><a href="Main.html#t:Opcao" title="Main">Opcao</a></code> escolhida foi selecionada (True) ou n&#227;o (False)</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Opcao" class="def">Opcao</a> <a href="#t:Opcao" class="selflink">#</a></p><div class="doc"><p>Op&#231;&#245;es do menu.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Jogar" class="def">Jogar</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Niveis" class="def">Niveis</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Sair" class="def">Sair</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><details id="i:Opcao" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Opcao:Eq:1"></span> Eq <a href="Main.html#t:Opcao" title="Main">Opcao</a></span> <a href="#t:Opcao" class="selflink">#</a></td><td class="doc"><p>Estabelece a rela&#231;&#227;o de igualdade entre os elementos de <code><a href="Main.html#t:Opcao" title="Main">Opcao</a></code></p></td></tr><tr><td colspan="2"><details id="i:id:Opcao:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Main.html">Main</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Main.html#t:Opcao" title="Main">Opcao</a> -&gt; <a href="Main.html#t:Opcao" title="Main">Opcao</a> -&gt; Bool</p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Main.html#t:Opcao" title="Main">Opcao</a> -&gt; <a href="Main.html#t:Opcao" title="Main">Opcao</a> -&gt; Bool</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Elementos" class="def">Elementos</a> = (Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture) <a href="#t:Elementos" class="selflink">#</a></p><div class="doc"><p>Tuplo contendo todas as texturas/imagens usadas no menu.</p></div></div><div class="top"><p class="src"><a id="v:reageMenu" class="def">reageMenu</a> <a href="#v:reageMenu" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Event</td><td class="doc"><p>Input do utilizador pelo teclado</p></td></tr><tr><td class="src">-&gt; <a href="Main.html#t:EstadoMenu" title="Main">EstadoMenu</a></td><td class="doc"><p>Estado atual do menu</p></td></tr><tr><td class="src">-&gt; <a href="Main.html#t:EstadoMenu" title="Main">EstadoMenu</a></td><td class="doc"><p>Estado atualizado do menu</p></td></tr></table></div><div class="doc"><p><strong>A fun&#231;&#227;o &#8217;reageMenu&#8217; atualiza o estado do menu de acordo com os inputs que o utilizador realiza pelo teclado.</strong></p><p>&#201;, assim, a fun&#231;&#227;o respons&#225;vel por permitir o utilizador navegar e selecionar op&#231;&#245;es do menu inicial.</p></div></div><div class="top"><p class="src"><a id="v:drawMenu" class="def">drawMenu</a> :: <a href="Main.html#t:EstadoMenu" title="Main">EstadoMenu</a> -&gt; Picture <a href="#v:drawMenu" class="selflink">#</a></p><div class="doc"><p><strong>A fun&#231;&#227;o &#8217;drawMenu&#8217; desenha o menu inicial do jogo.</strong></p><p>Para isso, recebe o <code><a href="Main.html#t:EstadoMenu" title="Main">EstadoMenu</a></code> e, de acordo com o mesmo, alterna entre as imagens que o comp&#245;e de forma a &quot;animar&quot; a escolha das op&#231;&#245;es.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:EstadoNiveis" class="def">EstadoNiveis</a> <a href="#t:EstadoNiveis" class="selflink">#</a></p><div class="doc"><p>Estado atual da sele&#231;&#227;o de n&#237;veis.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Nivel" class="def">Nivel</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src">Int</dfn><div class="doc"><p>N&#237;vel que se encontra escolhido no menu de sele&#231;&#227;o de n&#237;veis</p></div></li><li><dfn class="src">Bool</dfn><div class="doc"><p>Indica se o n&#237;vel escolhido foi selecionado (True) ou n&#227;o (False)</p></div></li><li><dfn class="src"><a href="Main.html#t:TexturasN" title="Main">TexturasN</a></dfn><div class="doc"><p>Imagens que comp&#245;e o menu de sele&#231;&#227;o de n&#237;veis</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:TexturasN" class="def">TexturasN</a> = (Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture) <a href="#t:TexturasN" class="selflink">#</a></p><div class="doc"><p>Tuplo contendo as texturas/imagens usadas no menu de sele&#231;&#227;o de n&#237;veis.</p></div></div><div class="top"><p class="src"><a id="v:reageNiveis" class="def">reageNiveis</a> <a href="#v:reageNiveis" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Event</td><td class="doc"><p>Input do utilizador pelo teclado</p></td></tr><tr><td class="src">-&gt; <a href="Main.html#t:EstadoNiveis" title="Main">EstadoNiveis</a></td><td class="doc"><p>Estado atual da sele&#231;&#227;o de n&#237;veis</p></td></tr><tr><td class="src">-&gt; <a href="Main.html#t:EstadoNiveis" title="Main">EstadoNiveis</a></td><td class="doc"><p>Estado atualizado da sele&#231;&#227;o de n&#237;veis</p></td></tr></table></div><div class="doc"><p><strong>A fun&#231;&#227;o &#8217;reageNiveis&#8217; atualiza o estado do menu de sele&#231;&#227;o de n&#237;veis de acordo com os inputs que o utilizador realiza pelo teclado.</strong></p><p>&#201;, assim, a fun&#231;&#227;o respons&#225;vel por permitir o utilizador navegar e selecionar n&#237;veis.</p></div></div><div class="top"><p class="src"><a id="v:drawNiveis" class="def">drawNiveis</a> :: <a href="Main.html#t:EstadoNiveis" title="Main">EstadoNiveis</a> -&gt; Picture <a href="#v:drawNiveis" class="selflink">#</a></p><div class="doc"><p><strong>A fun&#231;&#227;o &#8217;drawNiveis&#8217; desenha o menu de sele&#231;&#227;o de n&#237;veis do jogo.</strong></p><p>Para isso, recebe o <code><a href="Main.html#t:EstadoNiveis" title="Main">EstadoNiveis</a></code> e, de acordo com o mesmo, alterna entre as imagens que o comp&#245;e de forma a &quot;animar&quot; a escolha das op&#231;&#245;es.</p><ul><li><strong>Nota:</strong> Para uma maior simplicidade e efici&#234;ncia no uso das imagens, cada uma das imagens usadas nesta fun&#231;&#227;o inclui todos os elementos que comp&#245;e o menu
de sele&#231;&#227;o de n&#237;veis, sendo o n&#237;vel selecionado a &#250;nica diferen&#231;a entre elas.</li></ul></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:EstadoPausa" class="def">EstadoPausa</a> <a href="#t:EstadoPausa" class="selflink">#</a></p><div class="doc"><p>Estado atual do menu pausa.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Pausa" class="def">Pausa</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a href="Main.html#t:OpcaoP" title="Main">OpcaoP</a></dfn><div class="doc"><p>Op&#231;&#227;o que se encontra escolhida no menu pausa</p></div></li><li><dfn class="src"><a href="Main.html#t:ElementosP" title="Main">ElementosP</a></dfn><div class="doc"><p>Imagens que comp&#245;e o menu pausa</p></div></li><li><dfn class="src">Bool</dfn><div class="doc"><p>Indica se a op&#231;&#227;o escolhida foi selecionada (True) ou n&#227;o (False)</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:ElementosP" class="def">ElementosP</a> = (Picture, Picture, Picture, Picture, Picture, Picture) <a href="#t:ElementosP" class="selflink">#</a></p><div class="doc"><p>Tuplo contendo as texturas/imagens usadas no menu pausa.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:OpcaoP" class="def">OpcaoP</a> <a href="#t:OpcaoP" class="selflink">#</a></p><div class="doc"><p>Op&#231;&#245;es do menu pausa.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Continuar" class="def">Continuar</a></td><td class="doc"><p>Voltar ao jogo</p></td></tr><tr><td class="src"><a id="v:VoltarAoMenu" class="def">VoltarAoMenu</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><details id="i:OpcaoP" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:OpcaoP:Eq:1"></span> Eq <a href="Main.html#t:OpcaoP" title="Main">OpcaoP</a></span> <a href="#t:OpcaoP" class="selflink">#</a></td><td class="doc"><p>Estabelece a rela&#231;&#227;o de igualdade entre os elementos de <code><a href="Main.html#t:OpcaoP" title="Main">OpcaoP</a></code></p></td></tr><tr><td colspan="2"><details id="i:id:OpcaoP:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Main.html">Main</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Main.html#t:OpcaoP" title="Main">OpcaoP</a> -&gt; <a href="Main.html#t:OpcaoP" title="Main">OpcaoP</a> -&gt; Bool</p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Main.html#t:OpcaoP" title="Main">OpcaoP</a> -&gt; <a href="Main.html#t:OpcaoP" title="Main">OpcaoP</a> -&gt; Bool</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:reagePausa" class="def">reagePausa</a> <a href="#v:reagePausa" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Event</td><td class="doc"><p>Input do utilizador pelo teclado</p></td></tr><tr><td class="src">-&gt; <a href="Main.html#t:EstadoPausa" title="Main">EstadoPausa</a></td><td class="doc"><p>Estado atual do menu pausa</p></td></tr><tr><td class="src">-&gt; <a href="Main.html#t:EstadoPausa" title="Main">EstadoPausa</a></td><td class="doc"><p>Estado atualizado do menu pausa</p></td></tr></table></div><div class="doc"><p><strong>A fun&#231;&#227;o &#8217;reagePausa&#8217; atualiza o estado do menu pausa de acordo com os inputs que o utilizador realiza pelo teclado.</strong></p><p>&#201;, assim, a fun&#231;&#227;o respons&#225;vel por permitir o utilizador navegar e selecionar op&#231;&#245;es do menu pausa.</p></div></div><div class="top"><p class="src"><a id="v:drawPausa" class="def">drawPausa</a> :: <a href="Main.html#t:EstadoPausa" title="Main">EstadoPausa</a> -&gt; Picture <a href="#v:drawPausa" class="selflink">#</a></p><div class="doc"><p><strong>A fun&#231;&#227;o &#8217;drawPausa&#8217; desenha o menu pausa do jogo.</strong></p><p>Para isso, recebe o <code><a href="Main.html#t:EstadoPausa" title="Main">EstadoPausa</a></code> e, de acordo com o mesmo, alterna entre as imagens que o comp&#245;e de forma a &quot;animar&quot; a escolha das op&#231;&#245;es.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:EstadoJogo" class="def">EstadoJogo</a> = (Int, Int, Bool, [<a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>], <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>, <a href="Main.html#t:ElementosJogo" title="Main">ElementosJogo</a>, Bool, (Float, Float), <a href="Main.html#t:Bot" title="Main">Bot</a>) <a href="#t:EstadoJogo" class="selflink">#</a></p><div class="doc"><p>Tuplo contendo todas as diversas vari&#225;veis relativas ao jogo, ou seja, usadas para o seu &quot;funcionamento&quot;.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:ElementosJogo" class="def">ElementosJogo</a> = (Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture) <a href="#t:ElementosJogo" class="selflink">#</a></p><div class="doc"><p>Tuplo contendo todas as texturas/imagens utilizadas no jogo.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:TexturasJogo" class="def">TexturasJogo</a> = (Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture, Picture) <a href="#t:TexturasJogo" class="selflink">#</a></p><div class="doc"><p>Tuplo contendo apenas as imagens utilizadas para desenhar o mapa e o jogador ou bot.</p></div></div><div class="top"><p class="src"><a id="v:world" class="def">world</a> :: [<a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>] <a href="#v:world" class="selflink">#</a></p><div class="doc"><p>&#8217;world&#8217; representa a lista com a totalidade dos n&#237;veis/mapas do jogo, n&#237;veis que s&#227;o importados do ficheiro <strong>ListaJogos.hs</strong>.</p></div></div><div class="top"><p class="src"><a id="v:reageJogo" class="def">reageJogo</a> <a href="#v:reageJogo" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Event</td><td class="doc"><p>Input do utilizador pelo teclado</p></td></tr><tr><td class="src">-&gt; <a href="Main.html#t:EstadoJogo" title="Main">EstadoJogo</a></td><td class="doc"><p>Estado atual do jogo</p></td></tr><tr><td class="src">-&gt; <a href="Main.html#t:EstadoJogo" title="Main">EstadoJogo</a></td><td class="doc"><p>Estado atualizado do jogo</p></td></tr></table></div><div class="doc"><p><strong>A fun&#231;&#227;o &#8217;reageJogo&#8217; atualiza o estado do jogo de acordo com os inputs que o utilizador realiza pelo teclado.</strong></p><p>&#201;, assim, respons&#225;vel por permitir ao utilizador interagir com o personagem e outras funcionalidades como ampliar e diminuir o mapa,
recome&#231;ar o n&#237;vel e abrir o menu Help.</p><p>Para isso, a fun&#231;&#227;o utiliza:</p><ol><li><code><a href="Tarefa4_2021li1g099.html#v:moveJogador" title="Tarefa4_2021li1g099">moveJogador</a></code>, importada da Tarefa 4, para atualizar o estado do jogador e do mapa;</li><li><code><a href="Main.html#v:nextLevel" title="Main">nextLevel</a></code>, para atualizar a contagem de n&#237;vel.</li></ol><ul><li><strong>Nota:</strong> Esta fun&#231;&#227;o &#233; ainda utilizada por <code><a href="Main.html#v:reageTempo" title="Main">reageTempo</a></code> para aplicar os movimentos do bot, uma vez que reageTempo simula o input do teclado.</li></ul></div></div><div class="top"><p class="src"><a id="v:nextLevel" class="def">nextLevel</a> <a href="#v:nextLevel" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Int</td><td class="doc"><p>N&#186; do n&#237;vel atual</p></td></tr><tr><td class="src">-&gt; <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a></td><td class="doc"><p>Jogo atual</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>N&#186; atualizado do n&#237;vel</p></td></tr></table></div><div class="doc"><p><strong>A fun&#231;&#227;o &#8217;nextLevel&#8217; atualiza a contagem de n&#237;vel do <code><a href="Main.html#t:EstadoJogo" title="Main">EstadoJogo</a></code>.</strong></p><p>Para isso, a fun&#231;&#227;o:</p><ol><li>Utiliza <code><a href="Tarefa2_2021li1g099.html#v:desconstroiMapa" title="Tarefa2_2021li1g099">desconstroiMapa</a></code>, importada da Tarefa 2, para transformar <code><a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a></code> em '[(Peca,Coordenadas)]';</li><li>Filtra a lista de forma a ficar apenas com a pe&#231;a <code><a href="LI12122.html#v:Porta" title="LI12122">Porta</a></code>;</li><li>Compara as coordenadas da <code><a href="LI12122.html#v:Porta" title="LI12122">Porta</a></code> do mapa com as coordenadas do jogador;</li><li>Se forem iguais, aumenta o n&#237;vel, sen&#227;o, mant&#233;m o n&#237;vel.</li></ol><h2>Exemplos de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>nextLevel 1 (Jogo [[Vazio,Vazio],[Porta,Vazio],[Bloco,Bloco]] (Jogador (0,1) Oeste False))
</code></strong>2
</pre></div></div><div class="top"><p class="src"><a id="v:drawJogo" class="def">drawJogo</a> :: <a href="Main.html#t:EstadoJogo" title="Main">EstadoJogo</a> -&gt; Picture <a href="#v:drawJogo" class="selflink">#</a></p><div class="doc"><p><strong>A fun&#231;&#227;o &#8217;drawJogo&#8217; desenha o ambiente gr&#225;fico onde o jogo d&#225; lugar.</strong></p><p>Ou seja, desenha o mapa, jogador/bot e outros elementos como o plano de fundo e o menu Help.</p><p>Localmente, tem como principal fun&#231;&#227;o alternar a textura do jogador entre o &quot; Steve &quot; e o &quot; Bot &quot;, que est&#227;o dependentes naturalmente de o bot estar
ou n&#227;o ativo e at&#233; de este conseguir ou n&#227;o resolver o n&#237;vel (retornar <code>Nothing</code>). Para al&#233;m disso, &#233; respons&#225;vel por desenhar o menu Help quando
este &#233; selecionado (<code>h == True</code>).</p><p>Para a &quot;constru&#231;&#227;o&quot; do jogo em si, utiliza a fun&#231;&#227;o auxiliar <code><a href="Main.html#v:drawMapa" title="Main">drawMapa</a></code> que recebe o n&#237;vel atual / jogo atual e as texturas do mapa e do
jogador (<code><a href="Main.html#t:TexturasJogo" title="Main">TexturasJogo</a></code>).</p></div></div><div class="top"><p class="src"><a id="v:drawMapa" class="def">drawMapa</a> :: (<a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>, <a href="Main.html#t:TexturasJogo" title="Main">TexturasJogo</a>) -&gt; Picture <a href="#v:drawMapa" class="selflink">#</a></p><div class="doc"><p><strong>A fun&#231;&#227;o &#8217;drawMapa&#8217; desenha o mapa e o jogador/bot com a ajuda das fun&#231;&#245;es <code><a href="Main.html#v:jogadorCaixa" title="Main">jogadorCaixa</a></code> e <code><a href="Main.html#v:mapToPicture" title="Main">mapToPicture</a></code>.</strong></p><p>Localmente, centra o mapa no ecr&#227; do utilizador, de acordo com o seu tamanho em X e em Y (obtido com as fun&#231;&#245;es da Tarefa 1: <code><a href="Tarefa1_2021li1g099.html#v:xMax" title="Tarefa1_2021li1g099">xMax</a></code> e <code><a href="Tarefa1_2021li1g099.html#v:yMax" title="Tarefa1_2021li1g099">yMax</a></code>),
recorrendo a <code>Translate</code>. Para al&#233;m disso, utiliza <code><a href="Tarefa2_2021li1g099.html#v:desconstroiMapa" title="Tarefa2_2021li1g099">desconstroiMapa</a></code> para transformar o mapa do tipo <code><a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a></code> para o tipo <code>[(Peca,Coordenadas)]</code>,
que &#233; usado pelas fun&#231;&#245;es <code><a href="Main.html#v:jogadorCaixa" title="Main">jogadorCaixa</a></code> e <code><a href="Main.html#v:mapToPicture" title="Main">mapToPicture</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:jogadorCaixa" class="def">jogadorCaixa</a> :: <a href="LI12122.html#t:Jogador" title="LI12122">Jogador</a> -&gt; <a href="Main.html#t:TexturasJogo" title="Main">TexturasJogo</a> -&gt; [Picture] <a href="#v:jogadorCaixa" class="selflink">#</a></p><div class="doc"><p><strong>A fun&#231;&#227;o &#8217;jogadorCaixa&#8217; desenha o jogador/bot de acordo com as suas coordenadas e estado atual.</strong></p><p>Para isso, a fun&#231;&#227;o tem a conta, para al&#233;m da sua posi&#231;&#227;o, a sua dire&#231;&#227;o (<code>Este</code> ou <code>Oeste</code>) e se est&#225; ou n&#227;o a segurar numa caixa
(<code>b == True</code> ou <code>b == False</code>). A fun&#231;&#227;o auxiliar <code><a href="Main.html#v:converteCoordenada" title="Main">converteCoordenada</a></code> &#233; utilizada, como o nome sugere, para converter coordenadas simples em
coordenadas que t&#234;m em conta o tamanho dos elementos do mapa e o funcionamento das coordenadas no Gloss.</p></div></div><div class="top"><p class="src"><a id="v:mapToPicture" class="def">mapToPicture</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; <a href="Main.html#t:TexturasJogo" title="Main">TexturasJogo</a> -&gt; [Picture] <a href="#v:mapToPicture" class="selflink">#</a></p><div class="doc"><p><strong>A fun&#231;&#227;o &#8217;mapToPicture&#8217; desenha o mapa do jogo.</strong></p><p>&#201; uma fun&#231;&#227;o recursiva que utiliza <code><a href="Main.html#v:pecaToPicture" title="Main">pecaToPicture</a></code> para representar cada pe&#231;a do mapa individualmente at&#233; que todas estejam representadas.</p></div></div><div class="top"><p class="src"><a id="v:pecaToPicture" class="def">pecaToPicture</a> :: (<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>) -&gt; <a href="Main.html#t:TexturasJogo" title="Main">TexturasJogo</a> -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Picture <a href="#v:pecaToPicture" class="selflink">#</a></p><div class="doc"><p><strong>A fun&#231;&#227;o &#8217;pecaToPicture&#8217; desenha uma pe&#231;a do mapa.</strong></p><p>Embora pare&#231;a simples, esta fun&#231;&#227;o tem um papel extremamente importante no que toca &#224;s texturas que se adaptam ao meio, que &#233; o caso das
texturas da pe&#231;a <code><a href="LI12122.html#v:Bloco" title="LI12122">Bloco</a></code> e da pe&#231;a <code><a href="LI12122.html#v:Caixa" title="LI12122">Caixa</a></code> que se adaptam da seguinte forma:</p><ul><li><strong>Bloco:</strong> &#201; representado por um &quot;bloco de relva&quot; quando n&#227;o existem pe&#231;as acima (<code>Vazio</code>) e por um &quot;bloco de terra&quot; caso contr&#225;rio;</li><li><strong>Caixa:</strong> &#201; representada por um pist&#227;o que extende quando se empilham 2 ou mais caixas.</li></ul><p>Ambas estas texturas foram inspiradas no jogo &quot; Minecraft &quot;, onde funcionam de forma semelhante.</p><p>Para avaliar que textura usar, esta fun&#231;&#227;o recebe o mapa do jogo em formato <code>[(Peca,Coordenadas)]</code>, o que permite verificar facilmente
se existe um elemento da lista, ou seja, uma pe&#231;a em determinadas coordenadas que ir&#225; influenciar o resultado. Para al&#233;m disso, usa tamb&#233;m
<code><a href="Main.html#v:converteCoordenada" title="Main">converteCoordenada</a></code> de forma an&#225;loga a <code><a href="Main.html#v:jogadorCaixa" title="Main">jogadorCaixa</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:converteCoordenada" class="def">converteCoordenada</a> :: (Int, Int) -&gt; (Int, Int) <a href="#v:converteCoordenada" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o &#8217;converteCoordenada&#8217; tem como objetivo transformar as coordenadas simples utilizadas no mapa do formato <code>[(Peca,Coordenadas)]</code> em
coordenadas que t&#234;m em conta o tamanho das pe&#231;as do mapa (neste caso 64 x 64) e os eixos em que as coordenadas trabalham no Gloss.</p><p>Tendo isso em conta, a fun&#231;&#227;o multiplica cada coordenada X e Y por 64 e inverte o sinal de Y para que fique em conformidade com o eixo Y do Gloss.</p><h2>Exemplos de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>converteCoordenada (1,1)
</code></strong>(64,-64)
</pre></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Bot" class="def">Bot</a> <a href="#t:Bot" class="selflink">#</a></p><div class="doc"><p>Estado atual da funcionalidade <a href="Bot.html">Bot</a>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Bot" class="def">Bot</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src">Bool</dfn><div class="doc"><p>Indica se o bot est&#225; ativado (True) ou n&#227;o (False)</p></div></li><li><dfn class="src">(Maybe [<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>])</dfn><div class="doc"><p>Lista de movimentos necess&#225;rios para concluir o n&#237;vel atual (calculados em <code><a href="Main.html#v:reage" title="Main">reage</a></code> com a fun&#231;&#227;o importada da Tarefa 6 <code><a href="Tarefa6_2021li1g099.html#v:resolveJogo" title="Tarefa6_2021li1g099">resolveJogo</a></code>)</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:reageTempo" class="def">reageTempo</a> :: Float -&gt; <a href="Main.html#t:Estado" title="Main">Estado</a> -&gt; <a href="Main.html#t:Estado" title="Main">Estado</a> <a href="#v:reageTempo" class="selflink">#</a></p><div class="doc"><p><strong>A fun&#231;&#227;o &#8217;reageTempo&#8217; &#233; respons&#225;vel por &quot;animar&quot; o Bot a resolver o n&#237;vel atual do jogo.</strong></p><p>Como &#233; referido em <code><a href="Main.html#v:fr" title="Main">fr</a></code>, esta fun&#231;&#227;o est&#225; dependente da &quot;frame rate&quot; (taxa de atualiza&#231;&#227;o) imosta na fun&#231;&#227;o <code>play</code> do Gloss. O que significa,
neste caso, que, se o Bot for ativado, ela ir&#225; ser invocada a cada 0,5 segundos. Cada vez que &#233; invocada, um dos movimentos do Bot ser&#225; aplicado
ao jogo, at&#233; que a lista de movimentos necess&#225;rios para conlcluir o n&#237;vel (calculada por <code><a href="Tarefa6_2021li1g099.html#v:resolveJogo" title="Tarefa6_2021li1g099">resolveJogo</a></code>) esteja vazia.</p><p>&#8217;reageTempo&#8217; tira proveito da fun&#231;&#227;o <code><a href="Main.html#v:reageJogo" title="Main">reageJogo</a></code> para aplicar os movimentos, e o que faz &#233; simplesmente invocar essa fun&#231;&#227;o simulando um input
do utilizador no teclado, input que ser&#225; o equivalente ao movimento que pretende executar.</p><p>Assim, a fun&#231;&#227;o faz para cada movimento a seguinte avalia&#231;&#227;o:</p><ol><li>Se a cauda da lista &#233; nula/vazia (<code>null ms</code>), ent&#227;o todos os movimentos j&#225; ter&#227;o sido aplicados ap&#243;s o atual e o Bot &#233; desativado (<code>Bot False Nothing</code>);</li><li>Caso contr&#225;rio, ainda temos movimentos a aplicar e por isso aplicamos o movimento atual sem alterar o estado do Bot.</li></ol></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>