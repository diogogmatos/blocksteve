<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Tarefa1_2021li1g099</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>Rui Pedro Cerqueira &lt;a100537@alunos.uminho.pt&gt;;<br />: Diogo Matos &lt;a100741@alunos.uminho.pt&gt;;</td></tr><tr><th>Safe Haskell</th><td>Safe</td></tr></table><p class="caption">Tarefa1_2021li1g099</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>M&#243;dulo para a realiza&#231;&#227;o da Tarefa 1 do projeto de LI1 em 2021/22.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:validaPotencialMapa">validaPotencialMapa</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Bool</li><li class="src short"><a href="#v:validaPosicoes">validaPosicoes</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Bool</li><li class="src short"><a href="#v:validaC">validaC</a> :: <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a> -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Bool</li><li class="src short"><a href="#v:validaPorta">validaPorta</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Bool</li><li class="src short"><a href="#v:validaVazios">validaVazios</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Bool</li><li class="src short"><a href="#v:contaPecas">contaPecas</a> :: <a href="LI12122.html#t:Peca" title="LI12122">Peca</a> -&gt; Int -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Int</li><li class="src short"><a href="#v:xMax">xMax</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Int</li><li class="src short"><a href="#v:yMax">yMax</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Int</li><li class="src short"><a href="#v:validaCaixas">validaCaixas</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Bool</li><li class="src short"><a href="#v:on">on</a> :: <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a> -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Bool</li><li class="src short"><a href="#v:validaChao">validaChao</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Int -&gt; Bool</li><li class="src short"><a href="#v:validaLigacao">validaLigacao</a> :: <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a> -&gt; <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a> -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Bool</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:validaPotencialMapa" class="def">validaPotencialMapa</a> <a href="#v:validaPotencialMapa" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</td><td class="doc"><p>Input de um potencial mapa, constitu&#237;do por pares '(Peca, Coordenadas)'</p></td></tr><tr><td class="src">-&gt; Bool</td><td class="doc"><p>Output booleano (True - mapa v&#225;lido, False - mapa inv&#225;lido)</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o &#8217;validaPotencialMapa&#8217; aplica as fun&#231;&#245;es <code><a href="Tarefa1_2021li1g099.html#v:validaPosicoes" title="Tarefa1_2021li1g099">validaPosicoes</a></code>, <code><a href="Tarefa1_2021li1g099.html#v:validaPorta" title="Tarefa1_2021li1g099">validaPorta</a></code>, <code><a href="Tarefa1_2021li1g099.html#v:validaVazios" title="Tarefa1_2021li1g099">validaVazios</a></code>, <code><a href="Tarefa1_2021li1g099.html#v:validaCaixas" title="Tarefa1_2021li1g099">validaCaixas</a></code> e <code><a href="Tarefa1_2021li1g099.html#v:validaChao" title="Tarefa1_2021li1g099">validaChao</a></code> a um
potencial mapa, verificando assim se cumpre todos os requisitos. </p></div></div><div class="top"><p class="src"><a id="v:validaPosicoes" class="def">validaPosicoes</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Bool <a href="#v:validaPosicoes" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o &#8217;validaPosicoes&#8217; verifica se existem pe&#231;as com posi&#231;&#245;es equivalentes, o que n&#227;o pode acontecer para termos um mapa v&#225;lido.</p><h2>Exemplos de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>validaPosicoes [(Bloco, (1,1)), Porta, (1,1)]
</code></strong>False
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>validaPosicoes [(Bloco, (1,1)), Porta, (2,4)]
</code></strong>True
</pre></div></div><div class="top"><p class="src"><a id="v:validaC" class="def">validaC</a> :: <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a> -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Bool <a href="#v:validaC" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o &#8217;validaC&#8217; compara uma das coordenadas do potencial mapa a toda a cauda da lista, de modo a verificar se &#233; equivalente a uma delas. </p><p>Esta fun&#231;&#227;o funciona como auxiliar de <code><a href="Tarefa1_2021li1g099.html#v:validaPosicoes" title="Tarefa1_2021li1g099">validaPosicoes</a></code>.</p><h2>Exemplos de utiliza&#231;&#227;o</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>validaC (1,1) [(Bloco,(1,1)),(Porta,(1,2))]
</code></strong>False
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>validaC (1,1) [(Bloco,(1,2)),(Porta,(1,4))]
</code></strong>True
</pre></div></div><div class="top"><p class="src"><a id="v:validaPorta" class="def">validaPorta</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Bool <a href="#v:validaPorta" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o &#8217;validaPorta&#8217; verifica se existe uma porta no mapa e se esta &#233; &#250;nica.</p><h2>Exemplos de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>validaPorta [(Bloco, (1,1)), (Porta, (1,2))]
</code></strong>True
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>validaPorta [(Bloco, (1,1)), (Caixa, (1,2))]
</code></strong>False
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>validaPorta [(Bloco, (1,1)), (Porta (1,2)), (Porta (1,3))]
</code></strong>False
</pre></div></div><div class="top"><p class="src"><a id="v:validaVazios" class="def">validaVazios</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Bool <a href="#v:validaVazios" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o &#8217;validaVazios&#8217; verifica se existe no m&#237;nimo um <a href="Vazio.html">Vazio</a> no mapa. </p><p>Como as pe&#231;as <a href="Vazio.html">Vazio</a> podem n&#227;o ser declaradas, o comprimento da lista &#233; comparado ao n&#250;mero de pe&#231;as que o mapa dado deve ter, n&#250;mero este 
que &#233; calculado com a ajuda de <code><a href="Tarefa1_2021li1g099.html#v:xMax" title="Tarefa1_2021li1g099">xMax</a></code> e <code><a href="Tarefa1_2021li1g099.html#v:yMax" title="Tarefa1_2021li1g099">yMax</a></code>.</p><p>Podemos observar abaixo como esta compara&#231;&#227;o &#233; feita:</p><p><strong><code>length l /= ((xMax l + 1) * (yMax l + 1))</code></strong></p><h2>Exemplos de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>validaVazio[(Bloco, (0,0)), (Porta, (0,1))]
</code></strong>False
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>validaVazio [(Vazio, (1,1)), (Caixa, (1,2))]
</code></strong>True
</pre></div></div><div class="top"><p class="src"><a id="v:contaPecas" class="def">contaPecas</a> :: <a href="LI12122.html#t:Peca" title="LI12122">Peca</a> -&gt; Int -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Int <a href="#v:contaPecas" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o &#8217;contaPecas&#8217; conta quantas pe&#231;as existem de um dado tipo numa lista. </p><p>&#201; utilizada como auxilidar em <code><a href="Tarefa1_2021li1g099.html#v:validaPorta" title="Tarefa1_2021li1g099">validaPorta</a></code> e <code><a href="Tarefa1_2021li1g099.html#v:validaVazios" title="Tarefa1_2021li1g099">validaVazios</a></code> de modo a contar o n&#250;mero de Portas e Vazios, respetivamente. </p></div></div><div class="top"><p class="src"><a id="v:xMax" class="def">xMax</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Int <a href="#v:xMax" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o &#8217;xMax&#8217; d&#225;-nos o valor M&#225;ximo de X de uma lista do tipo '[(Peca,Coordenadas)]'. </p></div></div><div class="top"><p class="src"><a id="v:yMax" class="def">yMax</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Int <a href="#v:yMax" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o &#8217;yMax&#8217; d&#225;-nos o valor M&#225;ximo de Y de uma lista do tipo '[(Peca,Coordenadas)]'. </p></div></div><div class="top"><p class="src"><a id="v:validaCaixas" class="def">validaCaixas</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Bool <a href="#v:validaCaixas" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o &#8217;validaCaixas&#8217; verifica se uma caixa se encontra em cima de outra caixa ou de um bloco.</p><h2>Exemplos de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>validaCaixas [(Bloco, (0,3)), (Caixa, (0,2))]
</code></strong>True
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>validaCaixas [(Bloco, (0,3)), (Caixa, (1,3))]
</code></strong>False
</pre></div></div><div class="top"><p class="src"><a id="v:on" class="def">on</a> <a href="#v:on" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a></td><td class="doc"><p>Input das coordenadas de uma das caixas de um potencial mapa</p></td></tr><tr><td class="src">-&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; Bool</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o &#8217;on&#8217; verifica, dadas as coordenadas de uma caixa, se a pe&#231;a em baixo da mesma &#233; v&#225;lida, isto &#233;, se &#233; <a href="Bloco.html">Bloco</a> ou <a href="Caixa.html">Caixa</a>. </p></div></div><div class="top"><p class="src"><a id="v:validaChao" class="def">validaChao</a> <a href="#v:validaChao" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Input de um acumulador (inicialmente 0), que tem como objetivo assumir o valor da coluna do mapa que est&#225; a ser analisada pela fun&#231;&#227;o no momento. </p></td></tr><tr><td class="src">-&gt; Bool</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o &#8217;validaChao&#8217; verifica se existe um ch&#227;o cont&#237;nuo (sem falhas) de blocos, da esquerda &#224; direita do mapa. </p><p>Esta an&#225;lise ocorre gradualmente de coluna a coluna, da seguinte forma:</p><ol><li>Para cada coluna do mapa, &#233; chamada a fun&#231;&#227;o <code><a href="Tarefa1_2021li1g099.html#v:validaLigacao" title="Tarefa1_2021li1g099">validaLigacao</a></code> com as coordenadas da pe&#231;a <a href="Bloco.html">Bloco</a> de maior Y da coluna atual e da coluna seguinte;</li><li>Se a liga&#231;&#227;o for considerada v&#225;lida por <code><a href="Tarefa1_2021li1g099.html#v:validaLigacao" title="Tarefa1_2021li1g099">validaLigacao</a></code>, a fun&#231;&#227;o prossegue para a coluna seguinte. Caso contr&#225;rio, significa que foi detetada
uma falha, pelo que o ch&#227;o &#233; inv&#225;lido (False).</li></ol><p>Se <code><a href="Tarefa1_2021li1g099.html#v:validaLigacao" title="Tarefa1_2021li1g099">validaLigacao</a></code> nunca devolver um valor False, significa que n&#227;o foram detetadas falhas em nenhum ponto e o ch&#227;o do mapa &#233; v&#225;lido.</p><h2>Exemplos de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>validaChao [(Bloco, (0,3)), (Caixa, (1,3))]
</code></strong>False
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>validaChao [(Bloco, (0,3)), (Bloco, (1,3))]
</code></strong>True
</pre></div></div><div class="top"><p class="src"><a id="v:validaLigacao" class="def">validaLigacao</a> <a href="#v:validaLigacao" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a></td><td class="doc"><p>Coordenadas da pe&#231;a <a href="Bloco.html">Bloco</a> com maior Y da coluna atual</p></td></tr><tr><td class="src">-&gt; <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a></td><td class="doc"><p>Coordenadas da pe&#231;a <a href="Bloco.html">Bloco</a> com maior Y da coluna em seguida</p></td></tr><tr><td class="src">-&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</td><td class="doc"><p>Potencial mapa</p></td></tr><tr><td class="src">-&gt; Bool</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o &#8217;validaLigacao&#8217; verifica se existe uma liga&#231;&#227;o v&#225;lida entre o bloco de maior Y de uma coluna e o bloco de maior Y da coluna
   seguinte. Para isso, a fun&#231;&#227;o:</p><ol><li>Para cada bloco, avalia as op&#231;&#245;es de &quot;movimento&quot;, isto &#233;, se existem blocos em posi&#231;&#245;es relevantes para a liga&#231;&#227;o, e escolhe aquela que
se aproxima do bloco de destino;</li><li>Assume a coordenada da op&#231;&#227;o escolhida e repete o processo at&#233; que a coordenada corresponda &#224; coordeanda do bloco de destino.</li></ol><p>Se ao longo destes passos n&#227;o existirem falhas, como a inexist&#234;ncia de op&#231;&#245;es de &quot;movimento&quot; (conex&#227;o entre os dois blocos imposs&#237;vel),
a &quot;liga&#231;&#227;o&quot; &#233; considerada v&#225;lida. Caso contr&#225;rio, inv&#225;lida.</p><h2>Exemplos de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>validaLigacao (0,1) (2,1) [(Bloco,(0,1)),(Bloco,(1,1)),(Bloco,(2,1))]
</code></strong>True
</pre></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>